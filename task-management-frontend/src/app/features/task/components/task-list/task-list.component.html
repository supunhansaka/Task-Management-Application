<div class="task-list-header">
  <input
    type="text"
    placeholder="Search tasks..."
    [formControl]="filterControl"
  />
  <button (click)="toggleSort()">
    <i class="fas" [class.fa-sort-up]="sortAscending" [class.fa-sort-down]="!sortAscending"></i>
    Sort {{ sortAscending ? 'A-Z' : 'Z-A' }}
  </button>
</div>

<ul class="task-list">
  <li *ngFor="let task of filteredTasks" [class.completed]="task.status === 'Completed'">
    <div>
      <strong>{{ task.title }}</strong>
      <p>{{ task.description }}</p>
      <small>
        <span class="status">Status: {{ task.status }}</span> |
        <span class="priority">Priority: {{ task.priority }}</span> |
        <span class="due-date">Due: {{ task.dueDate | date }}</span>
      </small>
    </div>

    <div class="task-actions">
      <button class="edit-btn" (click)="onEdit(task)">
        <i class="fas fa-edit"></i> Edit
      </button>

      <ng-container *ngIf="task.status !== 'Completed'">
        <button class="complete-btn" (click)="markAsCompleted(task.id)">
          <i class="fas fa-check"></i> Complete
        </button>
      </ng-container>

      <button class="delete-btn" (click)="deleteTask(task.id)">
        <i class="fas fa-trash"></i> Delete
      </button>
    </div>
  </li>
</ul>

<div class="pagination" *ngIf="totalCount > 0 && filteredTasks.length > 0">
  <button 
    (click)="goToPage(currentPage - 1)" 
    [disabled]="currentPage === 1"
  >
    <i class="fas fa-chevron-left"></i> Previous
  </button>
  <span>Page {{ currentPage }} of {{ Math.ceil(totalCount / pageSize) }}</span>
  <button 
    (click)="goToPage(currentPage + 1)" 
    [disabled]="currentPage * pageSize >= totalCount"
  >
    Next <i class="fas fa-chevron-right"></i>
  </button>
</div>

<div class="no-tasks" *ngIf="filteredTasks.length === 0">
  <p>No tasks found</p>
  <small *ngIf="filterControl.value">Try adjusting your search</small>
</div>

  